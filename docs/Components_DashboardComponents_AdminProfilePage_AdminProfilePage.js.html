

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Harbour Bites FE documentation Components/DashboardComponents/AdminProfilePage/AdminProfilePage.js</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">Harbour Bites FE documentation</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                 
                    
                        <a
                            class="link user-link "
                            href="https://github.com/shivamsharmaexternlabs/externlabs-restaurant"
                        >
                            Respository
                        </a>
                    
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"></div><div class="category"><h2>AdminProfilePage Functions</h2><h3>Global</h3><ul><li><a href="global.html#BannerImageUploadFun">BannerImageUploadFun</a></li><li><a href="global.html#LogoImageUploadFun">LogoImageUploadFun</a></li><li><a href="global.html#callBackFuncAfterSignUp">callBackFuncAfterSignUp</a></li><li><a href="global.html#handleOnChange1">handleOnChange1</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li></ul></div><div class="category"><h2>AllMedia</h2><h3>Global</h3><ul><li><a href="global.html#AllMedia">AllMedia</a></li></ul></div><div class="category"><h2>AllMedia Function</h2><h3>Global</h3><ul><li><a href="global.html#DeleteImageFun">DeleteImageFun</a></li><li><a href="global.html#MultiUploadFun">MultiUploadFun</a></li></ul></div><div class="category"><h2>App</h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li></ul></div><div class="category"><h2>Authentication</h2><h3>Global</h3><ul><li><a href="global.html#ForgotPassword">ForgotPassword</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li></ul></div><div class="category"><h2>Custom Hook</h2><h3>Global</h3><ul><li><a href="global.html#useDownloadQr">useDownloadQr</a></li><li><a href="global.html#useLogoutHook">useLogoutHook</a></li><li><a href="global.html#usePopUpHook">usePopUpHook</a></li></ul></div><div class="category"><h2>Dashboard</h2><h3>Global</h3><ul><li><a href="global.html#CategoryTabFun">CategoryTabFun</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#QrCodeDownloadFun">QrCodeDownloadFun</a></li><li><a href="global.html#i18n-LanguageChange">i18n-LanguageChange</a></li><li><a href="global.html#useEffect">useEffect</a></li></ul></div><div class="category"><h2>Dashboard Component</h2><h3>Global</h3><ul><li><a href="global.html#AdminProfilePage">AdminProfilePage</a></li><li><a href="global.html#DndCategories">DndCategories</a></li></ul></div><div class="category"><h2>DndCategories function</h2><h3>Global</h3><ul><li><a href="global.html#handleDndUpdate">handleDndUpdate</a></li><li><a href="global.html#handleDragOver">handleDragOver</a></li><li><a href="global.html#handleDrop">handleDrop</a></li><li><a href="global.html#startDrag">startDrag</a></li></ul></div><div class="category"><h2>KDS</h2><h3>Global</h3><ul><li><a href="global.html#KdsBox">KdsBox</a></li><li><a href="global.html#KdsScreen">KdsScreen</a></li></ul></div><div class="category"><h2>KdsBox Functions</h2><h3>Global</h3><ul><li><a href="global.html#handleConfirmation">handleConfirmation</a></li><li><a href="global.html#handleStartCooking">handleStartCooking</a></li><li><a href="global.html#processKdsData">processKdsData</a></li></ul></div><div class="category"><h2>KdsScreen function</h2><h3>Global</h3><ul><li><a href="global.html#handleLogout">handleLogout</a></li></ul></div><div class="category"><h2>Login</h2><h3>Global</h3><ul><li><a href="global.html#Login">Login</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li><li><a href="global.html#languageSwitchFun">languageSwitchFun</a></li><li><a href="global.html#useEffect">useEffect</a></li></ul></div><div class="category"><h2>i18n</h2><h3>Global</h3><ul><li><a href="global.html#middleware">middleware</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>Components/DashboardComponents/AdminProfilePage/AdminProfilePage.js</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Import React and necessary dependencies
import React, { useEffect, useState } from 'react'
import './adminProfilePage.css'
import DashboardLayout from '../DashboardLayout/DashboardLayout'
import DashboardSidebar from '../DashboardSidebar/DashboardSidebar'
import PopUpComponent from "../../../ReusableComponents/PopUpComponent/PopUpComponent";
import editbanner from '../../../images/editbanner.png';
import PhoneInput from "react-phone-input-2"
import user from '../../../images/user.svg';
import upload2 from '../../../images/upload2.svg';
import burgerimg from '../../../images/burgerimg.png';
import { Formik, Form, Field, ErrorMessage } from "formik";
import { useLocation, useNavigate } from 'react-router-dom';
import * as yup from "yup";
import { useDispatch, useSelector } from "react-redux";
import { reactLocalStorage } from "reactjs-localstorage";
import usePopUpHook from "../../../CustomHooks/usePopUpHook/usePopUpHook";
import { SignUpSlice } from "../../../Redux/slices/SignUpSlice";
import { CreateRestaurantsOnBoardSlice, GetRestaurantsOnBoardSlice, LeadsRestaurantSlice, UpdateRestaurantSlice } from '../../../Redux/slices/leadsRestaurantSlice';
import { ResetPasswordSlice } from '../../../Redux/slices/resetPasswordSlice'
import close from "../../../images/close.svg";
import { UpdateLeadsSlice } from '../../../Redux/slices/leadsSlice'
import { LoadingSpinner } from '../../../Redux/slices/sideBarToggle';
import LodingSpiner from '../../LoadingSpinner/LoadingSpinner'
import SucessRegisteredPopup from '../../../ReusableComponents/SucessRegisteredPopup/SucessRegisteredPopup';
import editimg from '../../../images/edit.svg'
import { Helmet } from "react-helmet";


/**
 * AdminProfilePage component for handling Profile information of user.
 * @category Dashboard Component
 * @param {object} props - Component props.
 * @param {function} props.translaterFun - Function for translating text.
 * @returns {JSX.Element} AdminProfilePage component.
 */

// Owner Profile Edit Page Component 
const AdminProfilePage = ({ translaterFun }) => {

  // State and variable Declaration
  const [SuccessPopup, setSuccessPopup] = useState(false);
  const [ResetPasswordPopup, setResetPasswordPopup] = useState(false);
  const [CopyValueToggle, setCopyValueToggle] = useState(false)
  const routeData = useLocation();
  const [OnBordPopUp, setOnBordPopUp] = useState(false);
  const [loadspiner, setLoadSpiner] = useState(false);

  const [popUpHook, popUpHookFun] = usePopUpHook("")
  const [CreateLeadOnBoardPayloadState, setCreateLeadOnBoardPayloadState] = useState("")
  const [countrycode, setCountryCode] = useState("");
  const [phonenumber, setPhoneNumber] = useState("");
  const [HandleFormData, setHandleFormData] = useState(false)
  const SignUpSelectorData = useSelector((state) => state.SignUpApiData);
  const LeadsRestaurantSelectorData = useSelector((state) => state.LeadsRestaurantApiData);
  const LeadsSelectorData = useSelector((state) => state.LeadsApiData);
  const ResetPasswordSelectorData = useSelector((state) => state.ResetPasswordApiData);
  const [isShown, setIsShown] = useState(false);
  const [logoImage, setLogoImage] = useState(null);
  const [ViewLogoImage, setViewLogoImage] = useState(null);

  const [BannerImage, setBannerImage] = useState(null);
  const [ViewBannerImage, setViewBannerImage] = useState(null);

  // get from local storage to perform certain task by using this...
  let RestaurantId = reactLocalStorage.get("RestaurantId", false);
  let BearerToken = reactLocalStorage.get("Token", false);

  const dispatch = useDispatch();
  const navigate = useNavigate();
  let submitAction = undefined;


  const defaultSignUpValue = {
    password: "",
    confirm_password: "",
  };

  const ValidateSignUp = yup.object({
    // email: yup.string().required("Email is required").matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/, "Email is Invalid").matches(/^\S*$/, 'First name must not contain spaces'),
    // first_name: yup.string().required("first name is required").matches(/^\S*$/, 'First name must not contain spaces'),
    // last_name: yup.string().required("last name is required").matches(/^\S*$/, 'Last name must not contain spaces'),
    // phone_number: yup.string().matches(/^[0-9]+$/, 'Phone number must contain only digits').required('Phone Number is required').matches(/^\S*$/, 'Phone Number must not contain spaces'),
    password: yup.string().required(translaterFun("password-is-required")).matches(/^\S*$/, translaterFun("password-not-contain-spaces")),
    confirm_password: yup.string().required(translaterFun("confirm-password-is-required")).matches(/^\S*$/, translaterFun("password-not-contain-spaces")),

  });

  const defaultResetPasswordValue = {
    new_pass: "",
    confirm_pass: ""
  }

  const resetPasswordValidate = yup.object({
    new_pass: yup.string().required(translaterFun("password-is-required")).matches(/^\S*$/, translaterFun("password-not-contain-spaces")),
    confirm_pass: yup.string().required(translaterFun("confirm-password-is-required")).matches(/^\S*$/, translaterFun("password-not-contain-spaces")),
  });

  //console.log("msvdsnd", LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData, routeData?.state?.page)

  const defaultValue = {
    restaurant_name: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.restaurant_name : routeData?.state?.currentData?.restaurant_name,
    owner_name: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.owner?.first_name : routeData?.state?.currentData?.owner?.first_name === undefined ? routeData?.state?.currentData?.contact_name : routeData?.state?.currentData?.owner?.first_name,

    // owner_name: routeData?.state?.page === "profilePage" ?  LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.owner?.first_name :routeData?.state?.currentData?.owner?.first_name === undefined ? routeData?.state?.currentData?.contact_name : routeData?.state?.currentData?.owner?.first_name,
    email: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.owner?.email : routeData?.state?.currentData?.owner?.email === undefined ? routeData?.state?.currentData?.email : routeData?.state?.currentData?.owner?.email,
    // phone_ext: routeData?.state?.currentData?.owner?.phone_number === undefined ? routeData?.state?.currentData?.phone?.split("-")[0] : routeData?.state?.currentData?.owner?.phone_number?.split("-")[0],
    // phone: routeData?.state?.currentData?.owner?.phone_number === undefined ? routeData?.state?.currentData?.phone?.split("-")[1] : routeData?.state?.currentData?.owner?.phone_number?.split("-")[1],

    shop_no: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.shop_no : routeData?.state?.currentData?.shop_no === undefined ? routeData?.state?.currentData?.shop_number : routeData?.state?.currentData?.shop_no,
    street: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.street : routeData?.state?.currentData?.street === undefined ? routeData?.state?.currentData?.street_name : routeData?.state?.currentData?.street,
    city: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.city : routeData?.state?.currentData?.city,
    landmark: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.landmark : routeData?.state?.currentData?.landmark,
    pincode: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.pincode === null ? "" : LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.pincode : routeData?.state?.currentData?.pincode === null ? "" : routeData?.state?.currentData?.pincode,
    state: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.state : routeData?.state?.currentData?.state,
    country: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.country : routeData?.state?.currentData?.country,
    description: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.description : routeData?.state?.currentData?.description,
    url_slug: routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.url_slug : routeData?.state?.currentData?.url_slug,



  };
  /**
     * @useEffect
     * fill data from the route data's current data...
     *
     * @dependencies 
     */
  useEffect(() => {

    if (routeData?.state?.currentData) {
      setPhoneNumber(routeData?.state?.currentData?.owner?.phone_number === undefined ? routeData?.state?.currentData?.phone : routeData?.state?.currentData?.owner?.phone_number)
      setCountryCode(routeData?.state?.currentData?.owner?.country_code === undefined ? routeData?.state?.currentData?.country_code : routeData?.state?.currentData?.owner?.country_code)

      setLogoImage(routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.logo : routeData?.state?.currentData?.logo)
      setBannerImage(routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.banner : routeData?.state?.currentData?.banner)
    }

  }, [routeData?.state?.currentData])

  /**
       * @useEffect
       * setting logo and banner if it is in the Api response...
       *
       * @dependencies GetRestaurantsOnBoardSliceReducerData
       */
  useEffect(() => {

    if (LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData) {
      setLogoImage(routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.logo : routeData?.state?.currentData?.logo)
      setBannerImage(routeData?.state?.page === "profilePage" ? LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData?.data?.banner : routeData?.state?.currentData?.banner)
    }

  }, [LeadsRestaurantSelectorData?.GetRestaurantsOnBoardSliceReducerData])


  /**
       * @useEffect
       * After updating restaurant data , It should show updated data...
       *
       * @dependencies UpdateRestaurantReducerData
       */
  useEffect(() => {

    // dispatch(LoadingSpinner(false))

    if (routeData?.state?.page === "profilePage") {
      dispatch(GetRestaurantsOnBoardSlice({ RestaurantId: routeData?.state?.currentData?.restaurant_id, Token: BearerToken }))
    }

  }, [LeadsRestaurantSelectorData?.UpdateRestaurantReducerData])


  const Validate = yup.object({
    restaurant_name: yup.string().required(translaterFun("restaurant-name-is-required")),
    owner_name: yup.string().required(translaterFun("owner-name-is-required")),
    email: yup.string().matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/, translaterFun("email-is-invalid")).matches(/^\S*$/, 'First name must not contain spaces'),
    // phone_ext: yup.string().required(translaterFun('Phone Extension is required').matches(/^\S*$/, 'Phone Extension must not contain spaces'),
    // phone: yup.string().matches(/^[0-9]+$/, 'Phone number must contain only digits').required(translaterFun('Phone Number is required').matches(/^\S*$/, 'Phone Number must not contain spaces'),
    // shop_no: yup.string().required(translaterFun("shop-no-is-required")),
    // street: yup.string().required(translaterFun("street-name-is-required")),
    // city: yup.string().required(translaterFun("city-name-is-required")),
    // landmark: yup.string().required(translaterFun("landmark-is-required")),
    pincode: yup.string().matches(/^[0-9]+$/, translaterFun("pincode-must-contain-only-digits")).matches(/^\S*$/, translaterFun("pincode-must-not-contain-spaces")),
    // state: yup.string().required(translaterFun("state-is-required")),
    // country: yup.string().required(translaterFun("country-is-required")),
    // description: yup.string().required(translaterFun("description-is-required")),
    // url_slug: yup.string().matches(/^\S*$/, translaterFun('slug-must-not-contain-spaces'))

  });


  //  SignUp APi will be called 
  const handleSubmitOnBoardPassAndConfPass = async (values) => {
    await dispatch(LoadingSpinner(true))

    try {
      let SignUpForOnBoardPayload = {
        email: CreateLeadOnBoardPayloadState?.email,
        password: values?.password,
        confirm_password: values?.confirm_password,
        first_name: CreateLeadOnBoardPayloadState?.owner_name,
        phone_number: countrycode + "-" + phonenumber,
        type: "owner",
        token: BearerToken
      }

      // Call signUp API Here...
      await dispatch(SignUpSlice(SignUpForOnBoardPayload))
      dispatch(LoadingSpinner(false))
    } catch (error) {
      await dispatch(LoadingSpinner(false))
    }

  }

  /**
   * Handles callBack Function After SignUp .
   * @function callBackFuncAfterSignUp
   * @category AdminProfilePage Functions
   * @subCategory Dashboard Component
   */
  // After Sign Up API give response, then Creating Restaurant Api will be called...
  const callBackFuncAfterSignUp = async () => {
    setOnBordPopUp(false)

    await dispatch(LoadingSpinner(true))

    try {
      const payloadOnBoard = {
        "restaurant_name": CreateLeadOnBoardPayloadState?.restaurant_name,
        "shop_no": CreateLeadOnBoardPayloadState?.shop_no,
        "street": CreateLeadOnBoardPayloadState?.street,
        "city": CreateLeadOnBoardPayloadState?.city,
        "landmark": CreateLeadOnBoardPayloadState?.landmark,
        "pincode": CreateLeadOnBoardPayloadState?.pincode,
        "state": CreateLeadOnBoardPayloadState?.state,
        "country": CreateLeadOnBoardPayloadState?.country,
        "description": CreateLeadOnBoardPayloadState?.description,
        "owner_id": SignUpSelectorData?.data?.data?.owner_id,
        "Token": BearerToken
      }

      await dispatch(CreateRestaurantsOnBoardSlice(payloadOnBoard))
      await dispatch(LoadingSpinner(false))

    } catch (error) {
      await dispatch(LoadingSpinner(false))
    }

  }

  useEffect(() => {
    if (LeadsRestaurantSelectorData?.RestaurantOnBoardReducerData?.status === 201) {
      setSuccessPopup(true)
      setOnBordPopUp(false)
    }
    else if (LeadsRestaurantSelectorData?.error === "Rejected") {
      setLoadSpiner(false);
      popUpHookFun(true);
    }
  }, [LeadsRestaurantSelectorData?.RestaurantOnBoardReducerData]);


  useEffect(() => {
    if (SignUpSelectorData?.data?.status === 201) {
      setOnBordPopUp(false)
      setLoadSpiner(false);
      callBackFuncAfterSignUp();

      // navigate("/emailotpverification");
    }
    else if (SignUpSelectorData?.error == "Rejected") {
      setLoadSpiner(false);
    }
  }, [SignUpSelectorData]);


  useEffect(() => {
    if (LeadsRestaurantSelectorData?.UpdateRestaurantReducerData?.status === 200) {
      setLoadSpiner(false);
    }
    else if (LeadsRestaurantSelectorData?.error == "Rejected") {
      setLoadSpiner(false);
    }
  }, [LeadsRestaurantSelectorData?.UpdateRestaurantReducerData]);

  useEffect(() => {
    if (LeadsSelectorData?.UpdateLeadReducerData?.status === 200) {

      setLoadSpiner(false);

    }
    else if (LeadsSelectorData?.error == "Rejected") {
      setLoadSpiner(false);
    }
  }, [LeadsSelectorData?.UpdateLeadReducerData]);

  /**
     * Handles submit form .
     * @function handleSubmit
     * @param {Object} values - Object containing the values of the form.
     * @category AdminProfilePage Functions
     * @subCategory Dashboard Component
     */
  const handleSubmit = async (values) => {
    // dispatch(LoadingSpinner(true))

    if (routeData?.state?.page === "lead") {


      setCreateLeadOnBoardPayloadState(values)
      setOnBordPopUp(true)

      // const updateLeadPayload = {
      //   description: values?.description,
      //   restaurant_name: values?.restaurant_name,
      //   contact_name: values?.owner_name,
      //   email: values?.email,
      //   phone: countrycode + "-" + phonenumber,
      //   shop_number: values?.shop_no,
      //   street_name: values?.street,
      //   city: values?.city,
      //   landmark: values?.landmark,
      //   pincode: values?.pincode,
      //   state: values?.state,
      //   country: values?.country,
      //   leadId: routeData?.state?.currentData?.lead_id,
      //   Token: BearerToken
      // }

      // Please do not remove this comment => UpdateLeadsSlice
      // dispatch(UpdateLeadsSlice(updateLeadPayload));

    }


    else {
      //  if(!HandleFormData==true){
      let UpdateRestroPayload = {
        restaurant_name: values?.restaurant_name,
        shop_no: values?.shop_no,
        street: values?.street,
        city: values?.city,
        landmark: values?.landmark,
        pincode: values?.pincode,
        state: values?.state,
        country: values?.country,
        description: values?.description,
        Token: BearerToken,
        RestaurantId: routeData?.state?.currentData?.restaurant_id,
        logo: logoImage,
        banner: BannerImage,
        url_slug: values?.url_slug,
      }

      let responseData = await dispatch(UpdateRestaurantSlice(UpdateRestroPayload));
      if (responseData?.payload.status == 200) {
        dispatch(LoadingSpinner(false))
      }
      setHandleFormData(false)

    }
  }


  // const PopUpToggleFun = () => {
  //   popUpHookFun((o) => !o);
  // };

  // useEffect(() => {
  //   if (ResetPasswordSelectorData?.data?.status === 200) {
  //     setLoadSpiner(false);
  //     setResetPasswordPopup(false);
  //     // navigate("/emailotpverification");
  //   }
  //   else if (ResetPasswordSelectorData?.error == "Rejected") {
  //     setLoadSpiner(false);
  //   }
  // }, [ResetPasswordSelectorData]);

  // const resetPasswordSubmit = async (values) => {
  //   await dispatch(LoadingSpinner(true));

  //   let forgetPayload = {
  //     restaurant_id: routeData?.state?.currentData?.restaurant_id,
  //     new_pass: values?.new_pass,
  //     confirm_pass: values?.confirm_pass,
  //     BearerToken
  //   }

  //   try {

  //     await dispatch(ResetPasswordSlice(forgetPayload));
  //     await dispatch(LoadingSpinner(false))

  //   } catch (error) {
  //     await dispatch(LoadingSpinner(false))
  //   }

  // }

  // const closeResetPasswordFun = () => {
  //   setResetPasswordPopup(false)
  //   window.location.reload()
  // }

  /**
     * Handles onchange .
     * @function handleOnChange1
     * @param {string} currentValue - currentValue containing the value the currenty there in the input field.
     * @param {object} objectValue - objectValue containing the data.
     * @param {event} eventData - eventData.
      * @param {event} eventTargetValue - eventTargetValue is trageting current value.
     * @category AdminProfilePage Functions
     * @subCategory Dashboard Component
     */

  const handleOnChange1 = (
    currentValue,
    objectValue,
    eventData,
    eventTargetValue
  ) => {
    // we are not using all the parameters in this function , but all parameters are important becouse of this library
    let data = [];
    let CountryCode = eventTargetValue?.split(" ");
    setCountryCode(CountryCode?.[0]);
    CountryCode.slice(1).map((items, id) => {
      data.push(items);
    });
    let myString = data.join("").replace(/\D/g, "");
    setPhoneNumber(myString);
  };



  useEffect(() => {

    if (isShown) {
      setCopyValueToggle(false)
    }

  }, [isShown])


  /**
   * Handles logo image upload .
   * @function LogoImageUploadFun
   * @param {e} event - event.
   * @category AdminProfilePage Functions
   * @subCategory Dashboard Component
   */


  const LogoImageUploadFun = (e) => {
    setLogoImage(e?.target?.files?.[0])
    setViewLogoImage(URL.createObjectURL(e?.target?.files?.[0]))
  }

  /**
 * Handles banner image upload .
 * @function BannerImageUploadFun
 * @param {e} event - event.
 * @category AdminProfilePage Functions
 * @subCategory Dashboard Component
 */
  const BannerImageUploadFun = (e) => {
    setBannerImage(e?.target?.files?.[0])
    setViewBannerImage(URL.createObjectURL(e?.target?.files?.[0]))
  }

  return (
    &lt;>
      &lt;Helmet>
        &lt;title>Manage Restaurant Details | Harbor Bites&lt;/title>
        &lt;meta name="description" content="Streamline your restaurant's information effortlessly. Edit and manage crucial details hassle-free to keep your digital presence accurate and engaging." />
        {/* &lt;link rel="icon" type="image/x-icon" href="./"/> */}
      &lt;/Helmet>
      &lt;DashboardLayout>
        &lt;div className="dasboardbody">
          &lt;DashboardSidebar />
          &lt;div className="contentpart restaurantdetailpage">
            &lt;img src={burgerimg} alt='img' className='burgerimg' />
            &lt;div className='editprofilebanner'>
              &lt;div className='editbannerimg'>

                {HandleFormData != "" &amp;&amp;
                  &lt;div
                    className={`${HandleFormData ? "editbanneimgbutton" : "numbersdds editbanneimgbutton"}`}
                  >
                    &lt;button type='button'>
                      &lt;img src={upload2} alt='editimg' />&lt;/button>
                    &lt;input type="file"
                      accept=".png, .jpg, .jpeg"
                      onChange={(e) => BannerImageUploadFun(e)} />
                  &lt;/div>
                }
              &lt;/div>
              &lt;figure>

                &lt;img src={ViewBannerImage == null ? (BannerImage == null ? editbanner : BannerImage) : ViewBannerImage} alt='img'
                  className='w-100' />
              &lt;/figure>
              &lt;div className='info'>
                &lt;div className='edituserimg'>
                  &lt;img src={ViewLogoImage == null ? (logoImage == null ? user : logoImage) : ViewLogoImage} alt='img' />
                  {HandleFormData != "" &amp;&amp;
                    &lt;div
                      className={`   ${HandleFormData ? "edituserimgbutton" : "numbersdds edituserimgbutton"}`}

                    >
                      &lt;button type='button'>

                        &lt;img src={upload2} alt='editimg' />&lt;/button>
                      &lt;input type="file"

                        accept=".png, .jpg, .jpeg"
                        onChange={(e) => LogoImageUploadFun(e)} />
                    &lt;/div>
                  }
                &lt;/div>

              &lt;/div>
            &lt;/div>

            &lt;div className={`mt-4 mb-2 editprofileform ${!HandleFormData ? "" : ""}`}>
              &lt;Formik
                initialValues={defaultValue}
                validationSchema={Validate}
                enableReinitialize
                onSubmit={(values) => {
                  if (routeData?.state?.page == "profilePage") {
                    handleSubmit(values)
                  }
                  else if (submitAction === "secondary") {
                    handleSubmit(values);
                  }
                }}
              >
                {({ handleSubmit, initialValues, values }) => (&lt;Form className="row">
                  &lt;div className='col-md-6'>
                    &lt;div className="formbox mb-3 ">
                      &lt;label>{translaterFun("restaurant-name")}&lt;/label>
                      &lt;Field
                        name="restaurant_name"
                        type="text"
                        className={` form-control ${HandleFormData ? "" : "numbersdds"}`}
                        disabled={HandleFormData ? '' : "true"}
                        autoComplete="off"
                        placeholder={translaterFun("enter-your-name")}
                      />
                      &lt;p className="text-danger small mb-0">
                        &lt;ErrorMessage name="restaurant_name" />
                      &lt;/p>
                    &lt;/div>

                    &lt;div className={`${routeData?.state?.page !== "lead" ? "formbox mb-3" : "formbox mb-3"} `}>
                      &lt;label> {translaterFun("owner-name")} &lt;/label>
                      &lt;Field
                        name="owner_name"
                        type="text"
                        disabled="true"
                        className={`form-control ${HandleFormData &amp;&amp; routeData?.state?.page !== "lead" ? "numbersdds" : "numbersdds"}`}
                        autoComplete="off"
                        placeholder={translaterFun("enter-owner-name")}
                      />
                      &lt;p className="text-danger small mb-0">
                        &lt;ErrorMessage name="owner_name" />
                      &lt;/p>
                    &lt;/div>

                    &lt;div className={`${routeData?.state?.page !== "lead" ? "formbox mb-3" : "formbox mb-3"} `}>
                      &lt;label>{translaterFun("email")} &lt;/label>
                      &lt;Field
                        name="email"
                        type="email"
                        disabled='true'
                        className={`form-control ${HandleFormData &amp;&amp; routeData?.state?.page !== "lead" ? "numbersdds" : "numbersdds"}`}
                        autoComplete="off"
                        placeholder={translaterFun("enter-your-email")}
                      />
                      &lt;p className="text-danger small mb-0">
                        &lt;ErrorMessage name="email" />
                      &lt;/p>
                    &lt;/div>


                    &lt;div className='row'>

                      &lt;div className="col-md-12  mb-3">
                        {&lt;div className={`${HandleFormData &amp;&amp; routeData?.state?.page !== "lead" ? "formbox numbersdds" : "formbox numbersdds"} `}>
                          &lt;label> {translaterFun("phone-number")} &lt;/label>

                          &lt;PhoneInput
                            // country={"in"}
                            value={countrycode + phonenumber}
                            onChange={routeData?.state?.page == "profilePage" ? handleOnChange1 : ""}
                            className="input_filed"
                          />
                        &lt;/div>}
                      &lt;/div>

                    &lt;/div>

                    &lt;div className='row'>
                      &lt;div className='col-md-4'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("shop-no-optional")}&lt;/label>
                          &lt;Field
                            name="shop_no"
                            type="text"
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            disabled={HandleFormData ? '' : "true"}
                            autoComplete="off"
                            placeholder={translaterFun("enter-your-shop-no")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="shop_no" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                      &lt;div className='col-md-8'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("street-name")} &lt;/label>
                          &lt;Field
                            name="street"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            autoComplete="off"
                            placeholder={translaterFun("enter-your-street-name")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="street" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>
                    &lt;/div>

                    &lt;div className='row'>
                      &lt;div className='col-md-4'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("city-name")}&lt;/label>
                          &lt;Field
                            name="city"
                            type="text"
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            disabled={HandleFormData ? '' : "true"}
                            autoComplete="off"
                            placeholder={translaterFun("enter-your-city-name")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="city" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>
                      &lt;div className='col-md-8'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("landmark-optional")} &lt;/label>
                          &lt;Field
                            name="landmark"
                            type="text"
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            disabled={HandleFormData ? '' : "true"}
                            autoComplete="off"
                            placeholder={translaterFun("nearby-landmark")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="landmark" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>
                    &lt;/div>
                  &lt;/div>

                  &lt;div className='col-md-6'>
                    &lt;div className='row'>
                      &lt;div className='col-md-3'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("pincode")}  &lt;/label>
                          &lt;Field
                            name="pincode"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            autoComplete="off"
                            placeholder={translaterFun("pincode")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="pincode" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                      &lt;div className='col-md-3'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("state")}  &lt;/label>
                          &lt;Field
                            name="state"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            autoComplete="off"
                            placeholder={translaterFun("state")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="state" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                      &lt;div className='col-md-6'>
                        &lt;div className="formbox mb-3">
                          &lt;label>{translaterFun("country")}  &lt;/label>
                          &lt;Field
                            name="country"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}`}
                            autoComplete="off"
                            placeholder={translaterFun("country")}
                          />
                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="country" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                      &lt;div className="col-md-6 mb-3 pe-md-1">
                        &lt;div className="formbox ">
                          &lt;label>{translaterFun("url-slug")} &lt;/label>
                          &lt;Field
                            name="url_slug"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}  `}
                            // className={`form-control `}
                            autoComplete="off"
                            placeholder={translaterFun("please-enter-unique-slug")}
                          />

                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="url_slug" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                      &lt;div className="col-md-12  mb-3">
                        &lt;div className="formbox ">
                          &lt;label> {translaterFun("description")}  &lt;/label>
                          &lt;Field
                            name="description"
                            type="text"
                            disabled={HandleFormData ? '' : "true"}
                            className={`form-control ${HandleFormData ? "" : "numbersdds"}  `}
                            autoComplete="off"
                            placeholder={translaterFun("type-here")}
                          />

                          &lt;p className="text-danger small mb-0">
                            &lt;ErrorMessage name="description" />
                          &lt;/p>
                        &lt;/div>
                      &lt;/div>

                    &lt;/div>
                  &lt;/div>
                  &lt;div className='submitbox'>

                    {/* {
                      routeData?.state?.page === "restaurant" &amp;&amp; &lt;button type='button' className='btn2' onClick={(e) => resetPasswordFunc(e, routeData)}>
                        {translaterFun("reset-password")} &lt;/button>
                    } */}

                    {/* {
                      routeData?.state?.currentData?.status_type !== "On-Boarded" &amp;&amp; routeData?.state?.page !== "restaurant" &amp;&amp; &lt;button type='submit' className='btn2 ms-3'  >
                        {translaterFun("onBoard-and-Create-Password")} &lt;/button>
                    } */}
                    {
                      &lt;>

                        {routeData?.state?.page === "profilePage" &amp;&amp; !HandleFormData &amp;&amp;
                          &lt;button type="submit" className="btn1 mx-3"
                            onClick={(e) => {
                              submitAction = "primary";
                              setHandleFormData(true)
                            }}
                          >{translaterFun("edit-profile")}&lt;/button>}

                        {HandleFormData &amp;&amp; &lt;button type="submit" className="btn2 mx-3"
                          onClick={(e) => {
                            submitAction = "secondary";
                            handleSubmit(e)
                          }}
                        > {translaterFun("save-profile")}&lt;/button>
                        }

                      &lt;/>

                    }

                  &lt;/div>
                &lt;/Form>
                )}

              &lt;/Formik>

            &lt;/div>
          &lt;/div>
        &lt;/div>




        {/* reset password popup*/}
        {/* {ResetPasswordPopup &amp;&amp; (
          &lt;PopUpComponent
            classNameValue={"onboardingpopup "}
            PopUpToggleFun={PopUpToggleFun}
            popUpHookFun={popUpHookFun} >

            &lt;button type="button" className="closebtn" onClick={(e) => closeResetPasswordFun()}> &lt;img src={close} alt="close icon" /> &lt;/button>
            &lt;div className="popuptitle">
              &lt;h2>{translaterFun("reset-password")} &lt;/h2>
            &lt;/div>
            &lt;div className="popupbody">
              &lt;Formik
                initialValues={defaultResetPasswordValue}
                validationSchema={resetPasswordValidate}
                onSubmit={resetPasswordSubmit}
              >
                &lt;Form className="row">

                  &lt;div className="col-md-12 mb-3">

                    &lt;div className="formbox">
                      &lt;label>{translaterFun("password")}  &lt;/label>
                      &lt;Field
                        name="new_pass"
                        type="text"
                        className={`form-control `}
                        autoComplete="off"
                        placeholder="************"
                      />
                      &lt;p className="text-danger small mb-0">
                        &lt;ErrorMessage name="new_pass" />
                      &lt;/p>
                    &lt;/div>

                  &lt;/div>
                  &lt;div className="col-md-12 mb-3">

                    &lt;div className="formbox mb-3">
                      &lt;label>{translaterFun("confirm-password")} &lt;/label>
                      &lt;Field
                        name="confirm_pass"
                        type="text"
                        className={`form-control `}
                        autoComplete="off"
                        placeholder="************"
                      />
                      &lt;p className="text-danger small mb-0">
                        &lt;ErrorMessage name="confirm_pass" />
                      &lt;/p>
                    &lt;/div>

                  &lt;/div>
                  &lt;div className='text-center mt-1'>
                    &lt;button type="submit" className="btn2 mx-3"> {translaterFun("submit")} &lt;/button>
                  &lt;/div>
                &lt;/Form>
              &lt;/Formik>
            &lt;/div>

          &lt;/PopUpComponent>
        )} */}


      &lt;/DashboardLayout>
      &lt;LodingSpiner loadspiner={loadspiner} />
    &lt;/>
  )
}

export default AdminProfilePage
</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>


</body>
</html>
